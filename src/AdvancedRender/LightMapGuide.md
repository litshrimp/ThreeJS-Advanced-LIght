# 光照贴图制作指南

本指南介绍如何为您的3D模型创建光照贴图，以实现高级动态光照效果。

## 什么是光照贴图？

在本项目中，光照贴图是一张特殊的纹理图，用于标记场景中应该发光的区域。它使用RGB通道分别控制不同类型的光源：

- **红色通道(R)**: 控制主要光源区域(如电视、显示器等)
- **绿色通道(G)**: 控制第二类光源(如桌面灯等)
- **蓝色通道(B)**: 控制第三类光源(如其他装饰灯等)

颜色越亮(越接近白色)，光照效果越强烈。

## 制作步骤

### 方法一：在Blender中创建

1. **打开您的模型**:
   - 在Blender中加载您的模型
   - 确保模型已有正确的UV坐标

2. **创建发光材质**:
   - 创建一个新的材质集，专门用于光照区域
   - 为发光区域(如显示器屏幕、灯具等)创建红色材质
   - 可以使用不同强度的红色表示不同强度的光照

3. **烘焙光照贴图**:
   - 使用Blender的烘焙功能，选择"Emit"或"Diffuse Color"模式
   - 将结果保存为PNG格式
   - 确保使用与主烘焙贴图相同的UV布局

### 方法二：使用图像编辑软件

1. **获取UV布局**:
   - 从Blender导出UV布局图(或使用与烘焙贴图相同的尺寸)

2. **创建光照贴图**:
   - 在Photoshop、GIMP或其他图像编辑软件中创建新文件
   - 导入UV布局作为参考层
   - 创建新图层，在发光区域绘制红色
   - 可以使用不同的红色强度
   - 保存为PNG格式

### 方法三：基于烘焙贴图修改

1. **复制烘焙贴图**:
   - 复制您已有的烘焙贴图

2. **突出发光区域**:
   - 使用图像编辑软件找到发光区域(如显示器、灯具等)
   - 将这些区域转为红色，其余区域设为黑色
   - 调整红色的亮度以控制光照强度
   - 保存为PNG格式，命名为`[原贴图名称]_lightmap.png`

## 测试您的光照贴图

1. 将光照贴图放入`/static/advanced-render/textures/`目录中
2. 确保文件名为`testAdvancedRender_lightmap.png`(与模型名称对应)
3. 打开高级渲染测试页面(`test.html`)
4. 使用GUI面板调整光照颜色和强度

## 示例

以下是一个简单的光照贴图示例：

- 全黑区域: 无光照效果
- 亮红色区域: 强光照效果
- 暗红色区域: 弱光照效果

## 高级提示

- 可以使用绿色和蓝色通道控制其他类型的光源
- 光照贴图分辨率应与烘焙贴图一致，以避免对齐问题
- 可以使用模糊效果创建柔和的光晕效果 